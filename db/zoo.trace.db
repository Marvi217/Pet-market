2026-01-21 09:16:27.408818Z jdbc[3]: exception
java.sql.SQLClientInfoException: Client info name 'ApplicationName' not supported.
	at org.h2.jdbc.JdbcConnection.setClientInfo(JdbcConnection.java:1624)
	at com.intellij.database.remote.jdbc.impl.RemoteConnectionImpl.setClientInfo(RemoteConnectionImpl.java:469)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-01-21 09:16:27.908671Z jdbc[3]: exception
java.sql.SQLClientInfoException: Client info name 'ApplicationName' not supported.
	at org.h2.jdbc.JdbcConnection.setClientInfo(JdbcConnection.java:1624)
	at com.intellij.database.remote.jdbc.impl.RemoteConnectionImpl.setClientInfo(RemoteConnectionImpl.java:469)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-01-21 14:53:28.058500+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getWarnings(JdbcConnection.java:643)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:309)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy152.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-21 14:53:28.090671+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.HikariProxyConnection.clearWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:318)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy152.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-21 14:53:28.103257+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:65)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:208)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy152.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-21 20:05:02.694377+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:57)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:111)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:75)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:619)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy151.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-21 20:05:02.743731+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.release(GenerationTargetToDatabase.java:135)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:630)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy151.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 09:19:54.383916+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:57)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:111)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:75)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:619)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy151.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 09:19:54.447161+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.release(GenerationTargetToDatabase.java:135)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:630)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy151.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 09:29:24.145864+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:57)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:111)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:75)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:619)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy151.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 09:29:24.155587+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.release(GenerationTargetToDatabase.java:135)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:630)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy151.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 10:59:48.422833+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getWarnings(JdbcConnection.java:643)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:309)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy153.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 10:59:48.432419+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.HikariProxyConnection.clearWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:318)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy153.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 10:59:48.434897+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:65)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:208)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy153.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 10:59:48.714012+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:57)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:111)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:75)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:619)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy152.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 10:59:48.721185+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.release(GenerationTargetToDatabase.java:135)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:630)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy152.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:13:42.609072+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientException: Błąd ogólny: "java.lang.NullPointerException: Cannot invoke ""org.h2.engine.User.checkTableRight(org.h2.table.Table, int)"" because the return value of ""org.h2.engine.SessionLocal.getUser()"" is null"
General error: "java.lang.NullPointerException: Cannot invoke ""org.h2.engine.User.checkTableRight(org.h2.table.Table, int)"" because the return value of ""org.h2.engine.SessionLocal.getUser()"" is null" [50000-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:566)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:407)
	at org.h2.message.DbException.toSQLException(DbException.java:379)
	at org.h2.message.TraceObject.logAndConvert(TraceObject.java:365)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:688)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:342)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$4.doPrepare(StatementPreparerImpl.java:155)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:183)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:157)
	at org.hibernate.sql.exec.internal.StandardStatementCreator.createStatement(StandardStatementCreator.java:46)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:190)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:71)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValues(JdbcSelectExecutorStandardImpl.java:393)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:354)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:135)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:100)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:63)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:128)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:427)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:355)
	at org.hibernate.query.sqm.internal.SqmQueryImpl.doList(SqmQueryImpl.java:374)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:153)
	at org.hibernate.query.Query.getResultList(Query.java:121)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:132)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy4/jdk.proxy4.$Proxy177.findByUserOrderByIsDefaultDescIdDesc(Unknown Source)
	at com.example.zoo.service.UserAddressService.getUserAddresses(UserAddressService.java:20)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715)
	at com.example.zoo.service.UserAddressService$$SpringCGLIB$$0.getUserAddresses(<generated>)
	at com.example.zoo.controller.CheckoutController.showCheckout(CheckoutController.java:50)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.NullPointerException: Cannot invoke "org.h2.engine.User.checkTableRight(org.h2.table.Table, int)" because the return value of "org.h2.engine.SessionLocal.getUser()" is null
	at org.h2.table.TableFilter.<init>(TableFilter.java:161)
	at org.h2.command.Parser.buildTableFilter(Parser.java:1848)
	at org.h2.command.Parser.readTablePrimary(Parser.java:1788)
	at org.h2.command.Parser.readTableReference(Parser.java:2252)
	at org.h2.command.Parser.parseSelectFromPart(Parser.java:2705)
	at org.h2.command.Parser.parseSelect(Parser.java:2813)
	at org.h2.command.Parser.parseQueryPrimary(Parser.java:2695)
	at org.h2.command.Parser.parseQueryTerm(Parser.java:2550)
	at org.h2.command.Parser.parseQueryExpressionBody(Parser.java:2529)
	at org.h2.command.Parser.parseQueryExpressionBodyAndEndOfQuery(Parser.java:2522)
	at org.h2.command.Parser.parseQueryExpression(Parser.java:2515)
	at org.h2.command.Parser.parseQuery(Parser.java:2482)
	at org.h2.command.Parser.parsePrepared(Parser.java:613)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:686)
	... 147 more
2026-01-22 15:13:42.636432+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getWarnings(JdbcConnection.java:643)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:309)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:13:42.644913+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.HikariProxyConnection.clearWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:318)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:13:42.651931+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:65)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:208)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:13:42.768928+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:57)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:111)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:75)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:619)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy157.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:13:42.774913+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.release(GenerationTargetToDatabase.java:135)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:630)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy157.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:14:48.268574+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getWarnings(JdbcConnection.java:643)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:309)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:14:48.277574+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.HikariProxyConnection.clearWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:318)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:14:48.279976+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:65)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:208)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:14:48.408612+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:57)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:111)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:75)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:619)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy157.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:14:48.414894+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.release(GenerationTargetToDatabase.java:135)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:630)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy157.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 15:43:31.122996+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "BRANDS" nie istnieje
Table "BRANDS" not found; SQL statement:
select b1_0.id,b1_0.active,b1_0.country,b1_0.description,b1_0.logo_url,b1_0.name,b1_0.slug,b1_0.website from brands b1_0 [42102-240]
2026-01-22 17:23:00.022164+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLDataException: Value not permitted for column "('CANCELLED', 'CONFIRMED', 'DELIVERED', 'FAILED', 'IN_TRANSIT', 'OUT_FOR_DELIVERY', 'PACKED', 'PENDING', 'PROCESSING', 'REFUNDED', 'RETURNED', 'SHIPPED')": "COMPLETED"; SQL statement:
select sum(o1_0.total_amount) from orders o1_0 where o1_0.status='DELIVERED' or o1_0.status='COMPLETED' [22030-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:518)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.value.ExtTypeInfoEnum.getValue(ExtTypeInfoEnum.java:175)
	at org.h2.value.Value.convertToEnum(Value.java:2325)
	at org.h2.value.Value.convertTo(Value.java:1205)
	at org.h2.value.Value.convertTo(Value.java:1057)
	at org.h2.expression.condition.Comparison.optimize(Comparison.java:198)
	at org.h2.expression.condition.ConditionAndOr.optimize(ConditionAndOr.java:137)
	at org.h2.expression.Expression.optimizeCondition(Expression.java:149)
	at org.h2.command.query.Select.prepareExpressions(Select.java:1215)
	at org.h2.command.query.Query.prepare(Query.java:235)
	at org.h2.command.Parser.prepareCommand(Parser.java:492)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:686)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:342)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$4.doPrepare(StatementPreparerImpl.java:155)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:183)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:157)
	at org.hibernate.sql.exec.internal.StandardStatementCreator.createStatement(StandardStatementCreator.java:46)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:190)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:71)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValues(JdbcSelectExecutorStandardImpl.java:393)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:354)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:135)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:100)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:63)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:128)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:427)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:355)
	at org.hibernate.query.sqm.internal.SqmQueryImpl.doList(SqmQueryImpl.java:374)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:153)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:330)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy4/jdk.proxy4.$Proxy170.sumTotalRevenue(Unknown Source)
	at com.example.zoo.service.OrderService.getTotalRevenue(OrderService.java:899)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:715)
	at com.example.zoo.service.OrderService$$SpringCGLIB$$0.getTotalRevenue(<generated>)
	at com.example.zoo.controller.admin.AdminDashboardController.showDashboard(AdminDashboardController.java:50)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 17:28:26.695992+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT CAST(order_date AS DATE) as date, SUM(total_amount) as total FROM orders WHERE order_date >= CURRENT_DATE - INTERVAL [*]7 DAY AND status != 'CANCELLED' GROUP BY CAST(order_date AS DATE) ORDER BY date ASC"; oczekiwano "-, +, string"
Syntax error in SQL statement "SELECT CAST(order_date AS DATE) as date, SUM(total_amount) as total FROM orders WHERE order_date >= CURRENT_DATE - INTERVAL [*]7 DAY AND status != 'CANCELLED' GROUP BY CAST(order_date AS DATE) ORDER BY date ASC"; expected "-, +, string"; SQL statement:
SELECT CAST(order_date AS DATE) as date, SUM(total_amount) as total FROM orders WHERE order_date >= CURRENT_DATE - INTERVAL 7 DAY AND status != 'CANCELLED' GROUP BY CAST(order_date AS DATE) ORDER BY date ASC [42001-240]
2026-01-22 18:01:01.307793+01:00 database: flush
org.h2.message.DbException: Błąd ogólny: "org.h2.mvstore.MVStoreException: The file is locked: C:/Users/Dell/Desktop/Informatyka/ProjektowanieObiektowe/Lab03/Zoo/db/zoo.mv.db [2.4.240/7]"
General error: "org.h2.mvstore.MVStoreException: The file is locked: C:/Users/Dell/Desktop/Informatyka/ProjektowanieObiektowe/Lab03/Zoo/db/zoo.mv.db [2.4.240/7]" [50000-240]
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:407)
	at org.h2.mvstore.db.Store.lambda$new$0(Store.java:122)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:1675)
	at org.h2.mvstore.MVStore.panic(MVStore.java:502)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:296)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:2164)
	at org.h2.mvstore.db.Store.<init>(Store.java:133)
	at org.h2.engine.Database.<init>(Database.java:328)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:350)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:124)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:373)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:210)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.getConnection(DataSourceConnectionProvider.java:137)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:508)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:48)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:366)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironment(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:120)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:80)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:133)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:260)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:235)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:212)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:44)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:251)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:203)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1392)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.populateSessionFactoryBuilder(EntityManagerFactoryBuilderImpl.java:1472)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException: Błąd ogólny: "org.h2.mvstore.MVStoreException: The file is locked: C:/Users/Dell/Desktop/Informatyka/ProjektowanieObiektowe/Lab03/Zoo/db/zoo.mv.db [2.4.240/7]"
General error: "org.h2.mvstore.MVStoreException: The file is locked: C:/Users/Dell/Desktop/Informatyka/ProjektowanieObiektowe/Lab03/Zoo/db/zoo.mv.db [2.4.240/7]" [50000-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:566)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 67 more
Caused by: org.h2.mvstore.MVStoreException: The file is locked: C:/Users/Dell/Desktop/Informatyka/ProjektowanieObiektowe/Lab03/Zoo/db/zoo.mv.db [2.4.240/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:996)
	at org.h2.mvstore.SingleFileStore.lockFileChannel(SingleFileStore.java:143)
	at org.h2.mvstore.SingleFileStore.open(SingleFileStore.java:117)
	at org.h2.mvstore.SingleFileStore.open(SingleFileStore.java:81)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:291)
	... 61 more
2026-01-22 19:54:24.197203+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.getIsolatedConnection(GenerationTargetToDatabase.java:57)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:111)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:75)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:619)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy157.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 19:54:24.215201+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.release(GenerationTargetToDatabase.java:135)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl.perform(SchemaDropperImpl.java:630)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryClosing(SessionFactoryObserverForSchemaExport.java:46)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryClosing(SessionFactoryObserverChain.java:46)
	at org.hibernate.internal.SessionFactoryImpl.close(SessionFactoryImpl.java:801)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:526)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:756)
	at jdk.proxy4/jdk.proxy4.$Proxy157.close(Unknown Source)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.destroy(AbstractEntityManagerFactoryBean.java:669)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:209)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:795)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:745)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1500)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:704)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1493)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1225)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1186)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:176)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1132)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:07:31.283628+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:509)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:386)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:123)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:282)
	at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:123)
	at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:580)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:896)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:865)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:702)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:374)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.example.zoo.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at com.example.zoo.controller.admin.AdminProductController.createProduct(AdminProductController.java:159)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:07:31.480898+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getWarnings(JdbcConnection.java:643)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:309)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor42.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:07:31.551410+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.HikariProxyConnection.clearWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:318)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor42.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:07:31.578268+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:509)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:250)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:65)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:208)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor42.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:09:51.122847+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:684)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:342)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$4.doPrepare(StatementPreparerImpl.java:155)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:183)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:157)
	at org.hibernate.sql.exec.internal.StandardStatementCreator.createStatement(StandardStatementCreator.java:46)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:190)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:71)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValues(JdbcSelectExecutorStandardImpl.java:393)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:354)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:135)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:100)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:63)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:128)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:427)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:355)
	at org.hibernate.query.sqm.internal.SqmQueryImpl.doList(SqmQueryImpl.java:374)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:153)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:330)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy4/jdk.proxy4.$Proxy167.findByEmail(Unknown Source)
	at com.example.zoo.controller.GlobalUserControllerAdvice.addCurrentUserToModel(GlobalUserControllerAdvice.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.annotation.ModelFactory.invokeModelAttributeMethods(ModelFactory.java:142)
	at org.springframework.web.method.annotation.ModelFactory.initModel(ModelFactory.java:111)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:919)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:09:51.180644+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getWarnings(JdbcConnection.java:643)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:309)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:09:51.188062+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.HikariProxyConnection.clearWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:318)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:09:51.193155+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:65)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:208)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:11:17.557163+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getWarnings(JdbcConnection.java:643)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:309)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:11:17.569561+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.HikariProxyConnection.clearWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:318)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-22 22:11:17.572630+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:65)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:208)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at jdk.internal.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy158.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:653)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:153)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:131)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:840)
2026-01-23 09:37:16.340662+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableMutationStrategy.prepare(SqmMultiTableMutationStrategy.java:48)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableMutationStrategy$0(AbstractEntityPersister.java:4747)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.347673+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableMutationStrategy.prepare(SqmMultiTableMutationStrategy.java:48)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableMutationStrategy$0(AbstractEntityPersister.java:4747)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.352669+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.357669+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.362671+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.366669+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.371670+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.375718+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.380672+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.384756+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.388937+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.392937+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.429976+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:37)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:61)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:41)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:36)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:73)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:63)
	at org.hibernate.tool.schema.extract.internal.CachingDatabaseInformationImpl.<init>(CachingDatabaseInformationImpl.java:43)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.buildDatabaseInformation(GroupedSchemaMigratorImpl.java:112)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:83)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:269)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$1(SchemaManagementToolCoordinator.java:101)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:100)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:323)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-23 09:37:16.437628+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.resource.transaction.spi.DdlTransactionIsolator.close(DdlTransactionIsolator.java:49)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:82)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:269)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$1(SchemaManagementToolCoordinator.java:101)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:100)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:323)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.506745+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableMutationStrategy.prepare(SqmMultiTableMutationStrategy.java:48)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableMutationStrategy$0(AbstractEntityPersister.java:4747)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.521525+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableMutationStrategy.prepare(SqmMultiTableMutationStrategy.java:48)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableMutationStrategy$0(AbstractEntityPersister.java:4747)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.528518+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.538062+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.552454+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.563589+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.574238+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.584771+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.597319+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.606519+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.616290+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.createStatement(JdbcConnection.java:233)
	at com.zaxxer.hikari.pool.ProxyConnection.createStatement(ProxyConnection.java:285)
	at com.zaxxer.hikari.pool.HikariProxyConnection.createStatement(HikariProxyConnection.java)
	at org.hibernate.dialect.temptable.TemporaryTableHelper$TemporaryTableCreationWork.execute(TemporaryTableHelper.java:63)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:99)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.624835+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.query.sqm.mutation.internal.temptable.GlobalTemporaryTableStrategy.prepare(GlobalTemporaryTableStrategy.java:104)
	at org.hibernate.query.sqm.mutation.spi.SqmMultiTableInsertStrategy.prepare(SqmMultiTableInsertStrategy.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.lambda$prepareMultiTableInsertStrategy$0(AbstractEntityPersister.java:4767)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:252)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:116)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:98)
	at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:43)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:167)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:283)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.663545+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:37)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:61)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:41)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:36)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:73)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:63)
	at org.hibernate.tool.schema.extract.internal.CachingDatabaseInformationImpl.<init>(CachingDatabaseInformationImpl.java:43)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.buildDatabaseInformation(GroupedSchemaMigratorImpl.java:112)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:83)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:269)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$1(SchemaManagementToolCoordinator.java:101)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:100)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:323)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:37:27.712831+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.resource.transaction.spi.DdlTransactionIsolator.close(DdlTransactionIsolator.java:49)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:82)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:269)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$1(SchemaManagementToolCoordinator.java:101)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:100)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:323)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:11)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-01-25 09:44:01.688028+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Kolumna "U1_0.ENABLED" nie istnieje
Column "U1_0.ENABLED" not found; SQL statement:
select u1_0.id,u1_0.activation_code,u1_0.active,u1_0.city,u1_0.country,u1_0.street,u1_0.zip_code,u1_0.created_at,u1_0.email,u1_0.enabled,u1_0.first_name,u1_0.last_name,u1_0.password,u1_0.phone,u1_0.role,u1_0.updated_at from users u1_0 where u1_0.email=? [42122-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.expression.ExpressionColumn.getColumnException(ExpressionColumn.java:244)
	at org.h2.expression.ExpressionColumn.optimizeOther(ExpressionColumn.java:226)
	at org.h2.expression.ExpressionColumn.optimize(ExpressionColumn.java:213)
	at org.h2.command.query.Select.lambda$prepareExpressions$2(Select.java:1209)
	at java.base/java.util.ArrayList.replaceAllRange(ArrayList.java:1796)
	at java.base/java.util.ArrayList.replaceAll(ArrayList.java:1786)
	at org.h2.command.query.Select.prepareExpressions(Select.java:1209)
	at org.h2.command.query.Query.prepare(Query.java:235)
	at org.h2.command.Parser.prepareCommand(Parser.java:492)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:686)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:342)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$4.doPrepare(StatementPreparerImpl.java:155)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:183)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:157)
	at org.hibernate.sql.exec.internal.StandardStatementCreator.createStatement(StandardStatementCreator.java:46)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:190)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:71)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValues(JdbcSelectExecutorStandardImpl.java:393)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:354)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:135)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:100)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:63)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:128)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:427)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:355)
	at org.hibernate.query.sqm.internal.SqmQueryImpl.doList(SqmQueryImpl.java:374)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:153)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:330)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:414)
	at jdk.proxy4/jdk.proxy4.$Proxy196.getSingleResultOrNull(Unknown Source)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy4/jdk.proxy4.$Proxy163.findByEmail(Unknown Source)
	at com.example.zoo.service.CustomUserDetailsService.loadUserByUsername(CustomUserDetailsService.java:22)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:104)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:143)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:183)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:215)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:87)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:249)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:135)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2026-01-25 09:51:55.557861+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getWarnings(JdbcConnection.java:643)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:309)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy157.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2026-01-25 09:51:55.588619+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.HikariProxyConnection.clearWarnings(HikariProxyConnection.java)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.handleAndClearWarnings(SqlExceptionHelper.java:318)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logAndClearWarnings(SqlExceptionHelper.java:291)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:203)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy157.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2026-01-25 09:51:55.612122+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.releaseConnection(NonContextualJdbcConnectionAccess.java:65)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.release(LogicalConnectionManagedImpl.java:208)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.releaseConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.close(LogicalConnectionManagedImpl.java:261)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.close(JdbcCoordinatorImpl.java:160)
	at org.hibernate.internal.AbstractSharedSessionContract.close(AbstractSharedSessionContract.java:538)
	at org.hibernate.internal.SessionImpl.closeWithoutOpenChecks(SessionImpl.java:389)
	at org.hibernate.internal.SessionImpl.close(SessionImpl.java:371)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at jdk.proxy4/jdk.proxy4.$Proxy157.close(Unknown Source)
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.closeEntityManager(EntityManagerFactoryUtils.java:418)
	at org.springframework.orm.jpa.support.OpenEntityManagerInViewInterceptor.afterCompletion(OpenEntityManagerInViewInterceptor.java:112)
	at org.springframework.web.servlet.handler.WebRequestHandlerInterceptorAdapter.afterCompletion(WebRequestHandlerInterceptorAdapter.java:73)
	at org.springframework.web.servlet.HandlerExecutionChain.triggerAfterCompletion(HandlerExecutionChain.java:175)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:980)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:633)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:723)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:118)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1570)
2026-02-02 18:45:56.184245+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.getAutoCommit(JdbcConnection.java:463)
	at com.zaxxer.hikari.pool.ProxyConnection.getAutoCommit(ProxyConnection.java:405)
	at com.zaxxer.hikari.pool.HikariProxyConnection.getAutoCommit(HikariProxyConnection.java)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:37)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:61)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:41)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:36)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:73)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:63)
	at org.hibernate.tool.schema.extract.internal.CachingDatabaseInformationImpl.<init>(CachingDatabaseInformationImpl.java:43)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.buildDatabaseInformation(GroupedSchemaMigratorImpl.java:112)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:83)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:269)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$1(SchemaManagementToolCoordinator.java:101)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:100)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:323)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:15)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-02 18:45:56.202922+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Baza danych jest już zamknięta (aby zablokować samoczynne zamykanie podczas zamknięcia VM dodaj ";DB_CLOSE_ON_EXIT=FALSE" do URL bazy danych)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1418)
	at org.h2.jdbc.JdbcConnection.clearWarnings(JdbcConnection.java:657)
	at com.zaxxer.hikari.pool.ProxyConnection.close(ProxyConnection.java:258)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.closeConnection(DataSourceConnectionProvider.java:142)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.releaseConnection(JdbcEnvironmentInitiator.java:513)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.release(DdlTransactionIsolatorNonJtaImpl.java:103)
	at org.hibernate.resource.transaction.spi.DdlTransactionIsolator.close(DdlTransactionIsolator.java:49)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:82)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:269)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$1(SchemaManagementToolCoordinator.java:101)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:100)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:323)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:15)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-06 22:19:25.181740+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][REVIEWS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][REVIEWS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [REVIEWS] [42001-240]
2026-02-06 22:19:25.194785+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][SUBCATEGORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][SUBCATEGORIES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [SUBCATEGORIES] [42001-240]
2026-02-06 22:19:25.195770+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PROMOTION_PRODUCTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PROMOTION_PRODUCTS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PROMOTION_PRODUCTS] [42001-240]
2026-02-06 22:19:25.195770+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][SUPPLEMENTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][SUPPLEMENTS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [SUPPLEMENTS] [42001-240]
2026-02-06 22:19:25.196767+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PRODUCT_IMAGES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PRODUCT_IMAGES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PRODUCT_IMAGES] [42001-240]
2026-02-06 22:19:25.197856+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][WISHLIST]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][WISHLIST]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [WISHLIST] [42001-240]
2026-02-06 22:19:25.198769+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][CATEGORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][CATEGORIES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [CATEGORIES] [42001-240]
2026-02-06 22:19:25.198769+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][BRANDS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][BRANDS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [BRANDS] [42001-240]
2026-02-06 22:19:25.199776+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][FEEDS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][FEEDS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [FEEDS] [42001-240]
2026-02-06 22:19:25.200772+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][ORDER_ITEMS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][ORDER_ITEMS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [ORDER_ITEMS] [42001-240]
2026-02-06 22:19:25.200772+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][USER_CART_ITEMS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][USER_CART_ITEMS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [USER_CART_ITEMS] [42001-240]
2026-02-06 22:19:25.201766+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][EQUIPMENT]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][EQUIPMENT]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [EQUIPMENT] [42001-240]
2026-02-06 22:19:25.201766+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][TOYS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][TOYS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [TOYS] [42001-240]
2026-02-06 22:19:25.202762+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][USER_CARTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][USER_CARTS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [USER_CARTS] [42001-240]
2026-02-06 22:19:25.202762+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PRODUCTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PRODUCTS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PRODUCTS] [42001-240]
2026-02-06 22:19:25.203661+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][USER_ADDRESSES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][USER_ADDRESSES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [USER_ADDRESSES] [42001-240]
2026-02-06 22:19:25.203661+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][SEARCH_HISTORY]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][SEARCH_HISTORY]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [SEARCH_HISTORY] [42001-240]
2026-02-06 22:19:25.204663+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][ORDERS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][ORDERS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [ORDERS] [42001-240]
2026-02-06 22:19:25.204663+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PROMOTION_CATEGORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PROMOTION_CATEGORIES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PROMOTION_CATEGORIES] [42001-240]
2026-02-06 22:19:25.205661+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][ACCESSORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][ACCESSORIES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [ACCESSORIES] [42001-240]
2026-02-06 22:19:25.205661+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PROMOTIONS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PROMOTIONS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PROMOTIONS] [42001-240]
2026-02-06 22:19:25.205661+01:00 jdbc[4]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][USERS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][USERS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [USERS] [42001-240]
2026-02-06 22:20:04.987818+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][REVIEWS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][REVIEWS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [REVIEWS] [42001-240]
2026-02-06 22:20:04.988867+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][SUBCATEGORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][SUBCATEGORIES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [SUBCATEGORIES] [42001-240]
2026-02-06 22:20:04.988867+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PROMOTION_PRODUCTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PROMOTION_PRODUCTS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PROMOTION_PRODUCTS] [42001-240]
2026-02-06 22:20:04.988867+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][SUPPLEMENTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][SUPPLEMENTS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [SUPPLEMENTS] [42001-240]
2026-02-06 22:20:04.989882+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PRODUCT_IMAGES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PRODUCT_IMAGES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PRODUCT_IMAGES] [42001-240]
2026-02-06 22:20:04.989882+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][WISHLIST]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][WISHLIST]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [WISHLIST] [42001-240]
2026-02-06 22:20:04.989882+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][CATEGORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][CATEGORIES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [CATEGORIES] [42001-240]
2026-02-06 22:20:04.989882+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][BRANDS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][BRANDS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [BRANDS] [42001-240]
2026-02-06 22:20:04.990868+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][FEEDS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][FEEDS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [FEEDS] [42001-240]
2026-02-06 22:20:04.990868+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][ORDER_ITEMS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][ORDER_ITEMS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [ORDER_ITEMS] [42001-240]
2026-02-06 22:20:04.990868+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][USER_CART_ITEMS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][USER_CART_ITEMS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [USER_CART_ITEMS] [42001-240]
2026-02-06 22:20:04.991772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][EQUIPMENT]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][EQUIPMENT]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [EQUIPMENT] [42001-240]
2026-02-06 22:20:04.991772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][TOYS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][TOYS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [TOYS] [42001-240]
2026-02-06 22:20:04.991772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][USER_CARTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][USER_CARTS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [USER_CARTS] [42001-240]
2026-02-06 22:20:04.991772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PRODUCTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PRODUCTS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PRODUCTS] [42001-240]
2026-02-06 22:20:04.992772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][USER_ADDRESSES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][USER_ADDRESSES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [USER_ADDRESSES] [42001-240]
2026-02-06 22:20:04.992772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][SEARCH_HISTORY]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][SEARCH_HISTORY]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [SEARCH_HISTORY] [42001-240]
2026-02-06 22:20:04.992772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][ORDERS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][ORDERS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [ORDERS] [42001-240]
2026-02-06 22:20:04.992772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PROMOTION_CATEGORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PROMOTION_CATEGORIES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PROMOTION_CATEGORIES] [42001-240]
2026-02-06 22:20:04.992772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][ACCESSORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][ACCESSORIES]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [ACCESSORIES] [42001-240]
2026-02-06 22:20:04.993772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][PROMOTIONS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][PROMOTIONS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [PROMOTIONS] [42001-240]
2026-02-06 22:20:04.993772+01:00 jdbc[5]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT COUNT(*) FROM [*][USERS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT COUNT(*) FROM [*][USERS]"; expected "identifier"; SQL statement:
SELECT COUNT(*) FROM [USERS] [42001-240]
2026-02-06 22:20:08.215536+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][REVIEWS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][REVIEWS]"; expected "identifier"; SQL statement:
SELECT * FROM [REVIEWS] [42001-240]
2026-02-06 22:20:08.216523+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][SUBCATEGORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][SUBCATEGORIES]"; expected "identifier"; SQL statement:
SELECT * FROM [SUBCATEGORIES] [42001-240]
2026-02-06 22:20:08.216523+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][PROMOTION_PRODUCTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][PROMOTION_PRODUCTS]"; expected "identifier"; SQL statement:
SELECT * FROM [PROMOTION_PRODUCTS] [42001-240]
2026-02-06 22:20:08.217511+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][SUPPLEMENTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][SUPPLEMENTS]"; expected "identifier"; SQL statement:
SELECT * FROM [SUPPLEMENTS] [42001-240]
2026-02-06 22:20:08.217511+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][PRODUCT_IMAGES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][PRODUCT_IMAGES]"; expected "identifier"; SQL statement:
SELECT * FROM [PRODUCT_IMAGES] [42001-240]
2026-02-06 22:20:08.218471+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][WISHLIST]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][WISHLIST]"; expected "identifier"; SQL statement:
SELECT * FROM [WISHLIST] [42001-240]
2026-02-06 22:20:08.219426+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][CATEGORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][CATEGORIES]"; expected "identifier"; SQL statement:
SELECT * FROM [CATEGORIES] [42001-240]
2026-02-06 22:20:08.219426+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][BRANDS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][BRANDS]"; expected "identifier"; SQL statement:
SELECT * FROM [BRANDS] [42001-240]
2026-02-06 22:20:08.219426+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][FEEDS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][FEEDS]"; expected "identifier"; SQL statement:
SELECT * FROM [FEEDS] [42001-240]
2026-02-06 22:20:08.220425+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][ORDER_ITEMS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][ORDER_ITEMS]"; expected "identifier"; SQL statement:
SELECT * FROM [ORDER_ITEMS] [42001-240]
2026-02-06 22:20:08.220425+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][USER_CART_ITEMS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][USER_CART_ITEMS]"; expected "identifier"; SQL statement:
SELECT * FROM [USER_CART_ITEMS] [42001-240]
2026-02-06 22:20:08.221422+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][EQUIPMENT]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][EQUIPMENT]"; expected "identifier"; SQL statement:
SELECT * FROM [EQUIPMENT] [42001-240]
2026-02-06 22:20:08.221422+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][TOYS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][TOYS]"; expected "identifier"; SQL statement:
SELECT * FROM [TOYS] [42001-240]
2026-02-06 22:20:08.222422+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][USER_CARTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][USER_CARTS]"; expected "identifier"; SQL statement:
SELECT * FROM [USER_CARTS] [42001-240]
2026-02-06 22:20:08.222422+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][PRODUCTS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][PRODUCTS]"; expected "identifier"; SQL statement:
SELECT * FROM [PRODUCTS] [42001-240]
2026-02-06 22:20:08.222422+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][USER_ADDRESSES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][USER_ADDRESSES]"; expected "identifier"; SQL statement:
SELECT * FROM [USER_ADDRESSES] [42001-240]
2026-02-06 22:20:08.222422+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][SEARCH_HISTORY]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][SEARCH_HISTORY]"; expected "identifier"; SQL statement:
SELECT * FROM [SEARCH_HISTORY] [42001-240]
2026-02-06 22:20:08.222422+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][ORDERS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][ORDERS]"; expected "identifier"; SQL statement:
SELECT * FROM [ORDERS] [42001-240]
2026-02-06 22:20:08.223471+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][PROMOTION_CATEGORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][PROMOTION_CATEGORIES]"; expected "identifier"; SQL statement:
SELECT * FROM [PROMOTION_CATEGORIES] [42001-240]
2026-02-06 22:20:08.223471+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][ACCESSORIES]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][ACCESSORIES]"; expected "identifier"; SQL statement:
SELECT * FROM [ACCESSORIES] [42001-240]
2026-02-06 22:20:08.223471+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][PROMOTIONS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][PROMOTIONS]"; expected "identifier"; SQL statement:
SELECT * FROM [PROMOTIONS] [42001-240]
2026-02-06 22:20:08.224421+01:00 jdbc[6]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Błąd składniowy w wyrażeniu SQL "SELECT * FROM [*][USERS]"; oczekiwano "identifier"
Syntax error in SQL statement "SELECT * FROM [*][USERS]"; expected "identifier"; SQL statement:
SELECT * FROM [USERS] [42001-240]
2026-02-06 22:21:57.061439+01:00 jdbc[13]: null
org.h2.message.DbException: Połączenie zostało zamknięte przez aplikacje i zostało usunięte przez kolektor nieużytków
The connection was not closed by the application and is garbage collected [90018-240]
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:217)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:134)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:373)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:210)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.getConnection(DataSourceConnectionProvider.java:137)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:508)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:48)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:366)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironment(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:120)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:80)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:133)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:260)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:235)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:212)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:44)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:251)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:203)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1392)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.populateSessionFactoryBuilder(EntityManagerFactoryBuilderImpl.java:1472)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Połączenie zostało zamknięte przez aplikacje i zostało usunięte przez kolektor nieużytków
The connection was not closed by the application and is garbage collected [90018-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 56 more
2026-02-06 22:21:57.065339+01:00 jdbc[13]: null
org.h2.message.DbException: Połączenie zostało zamknięte przez aplikacje i zostało usunięte przez kolektor nieużytków
The connection was not closed by the application and is garbage collected [90018-240]
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.message.DbException.get(DbException.java:188)
	at org.h2.jdbc.JdbcConnection.closeOld(JdbcConnection.java:217)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:134)
	at org.h2.Driver.connect(Driver.java:59)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:373)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:210)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DataSourceConnectionProvider.getConnection(DataSourceConnectionProvider.java:137)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:508)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:48)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:366)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironment(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:120)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:80)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:133)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:260)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:235)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:212)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:44)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:251)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:203)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1392)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.populateSessionFactoryBuilder(EntityManagerFactoryBuilderImpl.java:1472)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1454)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:433)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:416)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:409)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
Caused by: org.h2.jdbc.JdbcSQLNonTransientConnectionException: Połączenie zostało zamknięte przez aplikacje i zostało usunięte przez kolektor nieużytków
The connection was not closed by the application and is garbage collected [90018-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:690)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	... 56 more
2026-02-07 11:36:30.503412+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.510935+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.513459+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.515244+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.516272+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.517244+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.519232+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.520244+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.521243+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.522670+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.523696+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.523696+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.524693+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.524693+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.525669+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.526702+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.526702+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.527672+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.528675+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.528675+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.529675+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.530677+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.530677+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.531676+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.531676+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.532943+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.533942+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.534449+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:36:30.536539+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-07 11:41:46.331020+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.340596+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.342595+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.343596+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.345592+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.346594+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.349975+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.352557+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.353456+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.354009+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.355108+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.355108+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.356113+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.356113+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.357117+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.358088+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.358088+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.360098+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.361098+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.363098+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.363098+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.364097+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.365101+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.367101+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.368105+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.368105+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.369611+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.369611+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:41:46.371622+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-07 11:49:17.247063+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.267697+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.270984+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.272994+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.275993+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.277995+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.281559+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.283221+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.284221+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.285220+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.286222+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.287535+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.288589+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.288589+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.289600+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.290601+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.292597+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.294599+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.295761+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.296761+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.297762+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.299268+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.300276+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.301758+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.301758+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.302820+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.303817+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.304825+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-07 11:49:17.307080+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:25:25.274174+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.286920+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.288918+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.289918+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.292364+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.293363+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.294362+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.295361+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.296364+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.297377+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.297377+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.298383+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.299361+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.300361+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.300361+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.301368+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.302363+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.303366+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.303366+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.304367+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.305363+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.306365+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.307364+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.308368+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.308368+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.309365+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.309365+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.310364+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:25:25.312366+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:40:19.212153+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.221153+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.222152+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.224330+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.226329+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.227329+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.228329+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.229334+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.230335+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.231334+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.231334+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.232423+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.232423+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.233426+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.233426+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.234364+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.235363+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.235363+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.236410+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.236410+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.237333+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.239335+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.239335+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.240334+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.240334+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.241333+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.242334+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.242334+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:40:19.243334+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:41:00.639401+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.650486+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.651494+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.652397+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.654429+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.655396+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.655396+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.656493+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.657397+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.658404+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.659398+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.660398+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.660398+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.661400+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.662480+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.663477+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.664397+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.664397+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.665484+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.666483+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.666483+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.667402+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.668397+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.669405+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.670398+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.670398+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.671399+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.672395+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:00.673398+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:41:04.112924+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.118944+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.119949+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.120947+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.121944+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.122922+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.123951+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.123951+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.124950+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.124950+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.125941+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.126928+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.128927+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.128927+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.130018+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.130991+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.131930+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.133008+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.133008+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.133924+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.135026+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.135026+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.136006+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.136006+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.137004+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.137930+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.137930+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.138928+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:41:04.140023+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:42:39.066219+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.074229+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.076170+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.078246+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.080131+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.080834+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.083309+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.084308+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.085307+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.087407+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.087407+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.088396+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.089309+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.090309+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.090309+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.091387+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.092313+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.092313+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.093357+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.093357+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.095479+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.095479+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.096476+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.097569+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.098572+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.098572+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.099540+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.100579+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:42:39.101478+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:47:20.421980+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.426964+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.428051+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.428970+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.429967+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.429967+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.431050+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.432049+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.432049+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.433050+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.433050+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.433962+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.433962+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.435048+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.435965+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.436980+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.436980+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.438425+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.439435+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.441438+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.442436+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.443438+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.445435+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.446438+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.447434+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.450437+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.451544+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.452526+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:20.453446+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:47:24.185086+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.191088+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.192140+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.192140+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.193180+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.193180+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.194136+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.194136+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.195088+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.195088+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.196180+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.196180+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.197739+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.197739+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.199642+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.200647+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.200647+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.207096+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.208104+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.209105+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.210104+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.211104+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.212104+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.213105+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.213105+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.214189+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.215104+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.216102+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:47:24.216102+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:55:03.151717+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.158720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.159720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.160720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.160720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.161720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.162720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.162720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.163720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.164719+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.165719+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.165719+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.166720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.167720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.167720+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.169734+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.170742+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.171743+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.172742+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.173742+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.175452+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.176457+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.178458+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.179457+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.180459+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.180459+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.181462+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.182459+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:03.183460+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:55:06.655927+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.659932+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.660928+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.660928+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.661924+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.662926+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.662926+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.663928+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.663928+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.664926+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.664926+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.665925+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.668037+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.669041+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.669938+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.670926+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.670926+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.671926+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.671926+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.673030+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.673030+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.673965+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.673965+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.675026+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.676025+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.676025+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.677031+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.677927+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:55:06.679015+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 17:59:57.111120+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.119072+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.120100+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.121626+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.123419+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.125427+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.127939+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.128938+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.129938+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.130940+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.130940+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.131936+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.132446+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.132955+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.133963+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.133963+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.134960+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.135960+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.136995+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.136995+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.137959+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.138978+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.138978+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.139960+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.139960+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.140976+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.140976+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.141960+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 17:59:57.143470+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 18:02:41.997045+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.014626+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.015631+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.017980+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.019975+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.021980+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.023496+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.024496+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.025496+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.027004+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.029016+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.030017+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.031018+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.033109+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.034112+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.034112+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.036618+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.037629+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.038628+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.039628+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.041632+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.043146+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.044144+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.045144+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.046653+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.047712+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.048719+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.049713+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:02:42.050712+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
2026-02-08 18:03:02.358160+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:230)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.368922+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:231)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.374561+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:232)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.379081+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:233)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.382790+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:234)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.383848+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE categories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreCategoryIcons(DatabaseMigration.java:235)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:29)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.387222+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:239)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.389233+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:240)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.390327+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:241)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.391908+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:242)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.391908+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:244)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.393919+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:245)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.393919+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:246)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.395919+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:247)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.396920+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:249)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.397920+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:250)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.399024+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:251)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.401016+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:252)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.402535+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:254)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.404574+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:255)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.405538+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:256)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.408066+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:257)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.410058+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:259)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.412566+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:260)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.413577+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:261)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.414660+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:263)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.416087+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:264)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.416087+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Funkcja "LEN" nie istnieje
Function "LEN" not found; SQL statement:
UPDATE subcategories SET icon = ? WHERE slug = ? AND (icon IS NULL OR icon LIKE '%?%' OR LEN(icon) = 0) [90022-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.readFunction(Parser.java:3775)
	at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5158)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readExpressionPart2(Parser.java:3006)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.readTermWithoutIdentifier(Parser.java:4939)
	at org.h2.command.Parser.readTerm(Parser.java:4844)
	at org.h2.command.Parser.readFactor(Parser.java:3326)
	at org.h2.command.Parser.readSum(Parser.java:3313)
	at org.h2.command.Parser.readConcat(Parser.java:3278)
	at org.h2.command.Parser.readCondition(Parser.java:3068)
	at org.h2.command.Parser.readAnd(Parser.java:3016)
	at org.h2.command.Parser.readExpression(Parser.java:2988)
	at org.h2.command.Parser.parseUpdate(Parser.java:1012)
	at org.h2.command.Parser.parsePrepared(Parser.java:747)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:93)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:315)
	at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:328)
	at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)
	at org.springframework.jdbc.core.JdbcTemplate$SimplePreparedStatementCreator.createPreparedStatement(JdbcTemplate.java:1709)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:965)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1009)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:1019)
	at com.example.zoo.config.DatabaseMigration.updateIconBySlug(DatabaseMigration.java:285)
	at com.example.zoo.config.DatabaseMigration.restoreSubcategoryIcons(DatabaseMigration.java:265)
	at com.example.zoo.config.DatabaseMigration.run(DatabaseMigration.java:30)
	at org.springframework.boot.SpringApplication.lambda$callRunner$0(SpringApplication.java:788)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:800)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:788)
	at org.springframework.boot.SpringApplication.lambda$callRunners$0(SpringApplication.java:776)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:557)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:611)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:776)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:328)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.example.zoo.ZooApplication.main(ZooApplication.java:14)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52)
2026-02-08 18:03:02.417621+01:00 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Tabela "P" nie istnieje
Table "P" not found; SQL statement:
UPDATE p SET p.image_url = s.icon FROM products p JOIN subcategories s ON p.subcategory_id = s.id WHERE (p.image_url IS NULL OR p.image_url LIKE '%?%' OR LEN(p.image_url) = 0) AND p.image_url NOT LIKE '/%' AND p.image_url NOT LIKE 'http%' [42102-240]
